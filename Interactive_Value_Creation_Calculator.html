<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Per-Transaction Value Creation Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .formula-box {
            background-color: #f8fafc; /* slate-50 */
            border: 1px solid #e2e8f0; /* slate-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: monospace;
            font-size: 1rem;
            line-height: 1.75;
            overflow-x: auto;
        }
        .output-box {
            background-color: #f0fdf4; /* green-50 */
            border: 1px solid #bbf7d0; /* green-200 */
            padding: 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
        }
        .output-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: #166534; /* green-800 */
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl bg-white rounded-xl shadow-lg p-6 md:p-8">
        <h1 class="text-2xl md:text-3xl font-bold text-slate-900 mb-2">Per-Transaction Value Creation Calculator</h1>
        <p class="text-slate-600 mb-6">This tool calculates the core value proposition: the cost savings generated by our technology on a single transaction.</p>

        <!-- Formulas Section -->
        <div class="mb-8 space-y-4">
            <h2 class="text-xl font-semibold text-slate-900">Foundational Formulas</h2>
            <div class="formula-box">
                <p><span class="font-bold text-indigo-600">Our Marginal Cost</span> = (Avg. Transaction Size * (On-Ramp Fee % + Off-Ramp Fee %)) + Gas Fee</p>
                <p><span class="font-bold text-emerald-600">Value Created</span> = Traditional Unit Cost - Our Marginal Cost</p>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Inputs Section -->
            <div class="space-y-4">
                <h2 class="text-xl font-semibold text-slate-900">Input Assumptions</h2>
                <div>
                    <label for="traditionalCost" class="block text-sm font-medium text-slate-700">Traditional Unit Cost ($)</label>
                    <input type="number" id="traditionalCost" value="11.00" step="0.01" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
                <div>
                    <label for="avgTxSize" class="block text-sm font-medium text-slate-700">Avg. Transaction Size ($)</label>
                    <input type="number" id="avgTxSize" value="300" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
                <div>
                    <label for="onRampFee" class="block text-sm font-medium text-slate-700">On-Ramp Fee (%)</label>
                    <input type="number" id="onRampFee" value="0.6" step="0.1" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
                <div>
                    <label for="offRampFee" class="block text-sm font-medium text-slate-700">Off-Ramp Fee (%)</label>
                    <input type="number" id="offRampFee" value="0.4" step="0.1" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
                <div>
                    <label for="gasFee" class="block text-sm font-medium text-slate-700">Gas Fee ($)</label>
                    <input type="number" id="gasFee" value="1.50" step="0.01" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
            </div>

            <!-- Outputs Section -->
            <div class="space-y-6 flex flex-col justify-center">
                 <h2 class="text-xl font-semibold text-slate-900 text-center">Calculated Results</h2>
                <div class="output-box">
                    <p class="text-sm font-medium text-slate-700">Our Marginal Cost</p>
                    <p id="marginalCostOutput" class="output-value">$0.00</p>
                </div>
                <div class="output-box bg-emerald-50 border-emerald-200">
                    <p class="text-sm font-medium text-slate-700">Total Value Created Per Transaction</p>
                    <p id="valueCreatedOutput" class="output-value text-emerald-800">$0.00</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Get all input and output elements
        const traditionalCostInput = document.getElementById('traditionalCost');
        const avgTxSizeInput = document.getElementById('avgTxSize');
        const onRampFeeInput = document.getElementById('onRampFee');
        const offRampFeeInput = document.getElementById('offRampFee');
        const gasFeeInput = document.getElementById('gasFee');
        
        const marginalCostOutput = document.getElementById('marginalCostOutput');
        const valueCreatedOutput = document.getElementById('valueCreatedOutput');

        const inputs = [traditionalCostInput, avgTxSizeInput, onRampFeeInput, offRampFeeInput, gasFeeInput];

        // Function to perform calculations
        function calculate() {
            // Get values from inputs, ensuring they are numbers
            const traditionalCost = parseFloat(traditionalCostInput.value) || 0;
            const avgTxSize = parseFloat(avgTxSizeInput.value) || 0;
            const onRampFee = parseFloat(onRampFeeInput.value) / 100 || 0; // Convert to decimal
            const offRampFee = parseFloat(offRampFeeInput.value) / 100 || 0; // Convert to decimal
            const gasFee = parseFloat(gasFeeInput.value) || 0;

            // Calculate marginal cost
            const rampFees = avgTxSize * (onRampFee + offRampFee);
            const marginalCost = rampFees + gasFee;

            // Calculate value created
            const valueCreated = traditionalCost - marginalCost;

            // Update the output elements, formatted to 2 decimal places
            marginalCostOutput.textContent = `$${marginalCost.toFixed(2)}`;
            valueCreatedOutput.textContent = `$${valueCreated.toFixed(2)}`;
        }

        // Add event listeners to all inputs to recalculate on change
        inputs.forEach(input => {
            input.addEventListener('input', calculate);
        });

        // Initial calculation on page load
        calculate();
    </script>

</body>
</html>
